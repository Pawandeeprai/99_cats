<% action_url = (request.persisted?) ? cat_rental_request_url(request) : cat_rental_requests_url %>
<% header_text = (request.persisted?) ?  "Edit request" : "Create new request" %>
<% submit_value = (request.persisted?) ?   "Edit my request!" : "Create my request!" %>

<form action="<%=action_url%>" method="POST">
  <% if request.persisted? %>
    <input type="hidden" name="_method" value="PATCH">
  <% end %>

  <h1><%= header_text %></h1>

  <p><h2>Cat: </h2></p>

  <p><select name="cat_rental_request[cat_id]">
  <% cats.each do |cat| %>
    <option value="<%= cat.id %>"><%= "#{cat.id}: #{cat.name}" %></option>
  <% end %>
  </select></p>

  <p><h2>Start Date: </h2></p>
  <p><input type="date" name="cat_rental_request[start_date]" value="<%= request.start_date %>"></p>

  <p><h2>End Date: </h2></p>
  <p><input type="date" name="cat_rental_request[end_date]" value="<%= request.end_date %>"></p>

  <p><input type="submit" value="<%= submit_value %>"></p>

</form>
